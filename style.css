/* ===== Global ===== */
body {
  font-family: 'Comic Sans MS', cursive, sans-serif;
  margin: 0;
  padding: 0;
  display: flex;
  justify-content: center;
  background: linear-gradient(120deg, #FFDEE9, #B5FFFC);
}

.container {
  width: 95%;
  max-width: 900px;
  margin: 20px auto;
  text-align: center;
}

h1 {
  font-size: 2em;
  color: #FF6F61;
  text-shadow: 2px 2px 4px #fff;
  margin-bottom: 30px;
}

/* ===== Boutons mode ===== */
.button-grid {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  gap: 20px;
}

.mode-btn {
  width: 180px;
  height: 180px;
  font-size: 1.3em;
  font-weight: bold;
  border: none;
  border-radius: 25px;
  cursor: pointer;
  color: white;
  transition: transform 0.2s, box-shadow 0.2s;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  box-shadow: 0 5px 15px rgba(0,0,0,0.2);
}

.mode-btn:hover {
  transform: scale(1.05);
  box-shadow: 0 10px 30px rgba(0,0,0,0.22);
}
.dessin-btn{ background:linear-gradient(45deg,#FFD194,#D191FF); }
.cartes-btn{ background:linear-gradient(45deg,#6FFFB0,#1CA9C9); }
.mix-btn{ background:linear-gradient(45deg,#FF9A8B,#FF6A88,#FF99AC); }

.page{ display:block; }
.hidden{ display:none; }

/* small previews */
#dessins-preview img, #cartes-container img.carte, #background-grid img { width:80px; margin:6px; border-radius:10px; }

/* cartes */
#cartes-container{ display:flex; flex-wrap:wrap; justify-content:center; padding:10px; }
#cartes-container img.carte{ cursor:pointer; border:2px solid transparent; transition:transform .15s, border .15s; }
#cartes-container img.carte.selected{ transform:scale(1.08); border-color:#FF6F61; }

/* background grid */
#background-grid{ display:flex; flex-wrap:wrap; justify-content:center; padding:10px; gap:8px; }

/* Preview container */
#preview-container {
  width:100%;
  min-height:420px;
  background-size:cover;
  background-position:center;
  position:relative;
  border-radius:12px;
  overflow:hidden;
  margin:16px 0;
}

/* char wrapper */
.char-wrapper {
  position:absolute;
  width:100px;
  height:auto;
  display:flex;
  align-items:flex-end;
  justify-content:center;
  pointer-events:none;
}

/* image inside char */
.char-wrapper img {
  width:100px;
  height:auto;
  border-radius:12px;
  box-shadow:0 6px 14px rgba(0,0,0,0.25);
  display:block;
}

/* mouth overlay */
.mouth-overlay {
  width: 36px;
  height: 12px;
  background: #b33;
  border-radius: 10px;
  position: absolute;
  bottom: 12px;
  left: calc(50% - 18px);
  transform-origin: center center;
  display: none;
  box-shadow: inset 0 -3px 6px rgba(0,0,0,0.12);
}

/* eyes overlay */
.eyes-overlay {
  width: 14px;
  height: 14px;
  background: #111;
  border-radius: 50%;
  position: absolute;
  top: 12px;
  left: calc(50% - 7px);
  opacity: 1;
  transition: opacity 120ms;
}

/* speaking head bob */
.char-wrapper.speaking { animation: headBob 0.9s infinite; }
@keyframes headBob {
  0% { transform: translateY(0); }
  50% { transform: translateY(-6px); }
  100% { transform: translateY(0); }
}

/* mouthTalk keyframes included for compatibility */
@keyframes mouthTalk { 0% { transform: scaleY(1); } 50% { transform: scaleY(0.35); } 100% { transform: scaleY(1); } }

/* responsive */
@media (max-width:600px){
  .mode-btn { width:140px; height:140px; }
  .char-wrapper { width:86px; }
  .char-wrapper img { width:76px; }
}
